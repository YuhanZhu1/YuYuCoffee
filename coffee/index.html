<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>YuYu Coffee</title>
  <link rel="stylesheet" href="assets/css/styles.css">
  <link rel="icon" href="assets/img/logo.png" type="image/png">
  <link rel="apple-touch-icon" href="assets/img/logo.png">
  <script type="module">
    // Import the functions you need from the SDKs you need
    import { initializeApp } from "https://www.gstatic.com/firebasejs/10.12.4/firebase-app.js";
    import { getAnalytics } from "https://www.gstatic.com/firebasejs/10.12.4/firebase-analytics.js";
    import { getDatabase, ref, push } from "https://www.gstatic.com/firebasejs/10.12.4/firebase-database.js";

    // Your web app's Firebase configuration
    const firebaseConfig = {
      apiKey: "AIzaSyBAjNZJAzRejznIPeai1QQ2ZFOTCNWO8Ic",
      authDomain: "yuyu-coffee.firebaseapp.com",
      projectId: "yuyu-coffee",
      storageBucket: "yuyu-coffee.appspot.com",
      messagingSenderId: "701846772347",
      appId: "1:701846772347:web:1dbf3bd94f74e47135a0de",
      measurementId: "G-HNV1C3YXWD"
    };

    // Initialize Firebase
    const app = initializeApp(firebaseConfig);
    const analytics = getAnalytics(app);
    const database = getDatabase(app);

    // Function to save order to Firebase
    function saveOrderToFirebase(orderData) {
      const ordersRef = ref(database, 'orders');
      push(ordersRef, orderData).then(() => {
        alert('Order submitted successfully!');
      }).catch((error) => {
        console.error('Error submitting order:', error);
      });
    }

    // Function to handle form submission
    window.handleFormSubmission = function() {
      const userName = document.getElementById('user-name').value;
      const coffeeType = document.getElementById('coffee-type').value;
      const coffeeTemp = document.getElementById('coffee-temp').value;
      const milkType = document.getElementById('milk-type').value;
      const quantity = document.getElementById('quantity').value;
      const orderData = {
        userName,
        coffeeType,
        coffeeTemp,
        milkType,
        quantity
      };
      saveOrderToFirebase(orderData);
    }
  </script>
</head>
<body>
  <header>
    <img src="assets/img/logo.png" alt="YuYu Coffee" class="logo">
    <h1>Welcome to YuYu Coffee</h1>
  </header>
  <main>
    <section id="order">
      <h2>Order Your Coffee</h2>
      <p class="highlight"><em>If you can tell a joke that makes Yuhan laugh out loud, your coffee is free!</em></p>
      <form id="coffee-form" onsubmit="event.preventDefault(); handleFormSubmission();">
        <label for="user-name">What's your name? (Optional):</label>
        <input type="text" id="user-name" name="user-name">
        <br>
        <label for="coffee-type">Choose your coffee:</label>
        <select id="coffee-type" name="coffee-type">
          <option value="Espresso">Espresso - $1.1</option>
          <option value="Americano">Americano - $1.1</option>
          <option value="DecafEspresso">Decaf Espresso - $1.1</option>
          <option value="DecafAmericano">Decaf Americano - $1.1</option>
          <option value="HandDrip">Hand Drip Coffee - $1.4</option>
          <option value="Omakase">Omakase - $1.5</option>
        </select>
        <br>
        <label for="coffee-temp">Ice?</label>
        <select id="coffee-temp" name="coffee-temp">
          <option value="Cold">ICED!!!</option>
          <option value="Hot">Nope! Absolutely Hot</option>
        </select>
        <br>
        <label for="milk-type">Choose your milk:</label>
        <select id="milk-type" name="milk-type">
          <option value="None">None</option>
          <option value="Whole Milk">Whole Milk - $0.2</option>
          <option value="2%Milk">2% Milk - $0.2</option>
          <option value="Oat Milk">Oat Milk - $0.3</option>
          <option value="Almond Milk">Almond Milk - $0.3</option>
          <option value="Lactose Free Milk">Lactose Free Milk - $0.4</option>
          <option value="Coconut Milk">Coconut Milk - $0.4</option>
        </select>
        <br>
        <label for="quantity">Quantity:</label>
        <input type="number" id="quantity" name="quantity" value="1" min="1">
        <br>
        <button type="submit">Submit Order</button>
      </form>
      <p id="price"></p>
    </section>
  </main>
  <footer>
    <p class="footer-text">Â© 1998 YuYu.</p>
    <p class="footer-text">Buy Yuhan A Oolong Milk TeaðŸ§‹: <a href="venmo://paycharge?txn=pay&recipients=Yuhan-Zhu-1&amount=5&note=Oolong%20Milk%20Tea%20Yuhan's%20Favorit!">Venmo</a></p>
    <p class="footer-text">Visit my homepage: <a href="/index.html">link</a></p>
  </footer>
</body>
</html>

